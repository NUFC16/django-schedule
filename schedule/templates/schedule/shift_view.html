{% extends "schedule/base.html" %}
{% load i18n sekizai_tags %}

{% block "content" %} 

  <div id='calendar'></div>

{% addtoblock "js" %}
  <script type="text/javascript">
    $(document).ready(function() {
      
      $('#calendar').fullCalendar({
        locale: 'hr',
        header: {
          left: '',
          center: 'title',
          right: '',
        },
        titleFormat: '[{{ shift.name }}]',
        slotLabelFormat:"HH:mm", // 0-24 on y-axis
        allDaySlot: false,
        timeFormat: 'H(:mm)',
        defaultView: 'agendaWeek',
        columnFormat: 'dddd', // show only name of the day
        firstDay: 1, // first day of week is Monday
        navLinks: true, // can click day/week names to navigate views
        editable: true,
        eventLimit: true, // allow "more" link when too many events
        events: [
        {% for event in events %}
          {
            id: {{ event.id }},
            title: '{{ event.title }}',
            start: '{{ event.time_from }}',
            end: '{{ event.time_until }}',
            url: '',
            color: '{{ event.color }}',
            dow: '{{ event.repeat }}'
          },
        {% endfor %}
        ],
      });
      
    });

  </script>
{% endaddtoblock "js" %}
{% endblock "content" %}